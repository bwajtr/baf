/*
 * This file is generated by jOOQ.
 */
package com.wajtr.baf.db.jooq.tables


import com.wajtr.baf.db.jooq.Public
import com.wajtr.baf.db.jooq.tables.records.PgBlockingProcessesRecord

import kotlin.collections.Collection

import org.jooq.Condition
import org.jooq.Field
import org.jooq.ForeignKey
import org.jooq.InverseForeignKey
import org.jooq.Name
import org.jooq.PlainSQL
import org.jooq.QueryPart
import org.jooq.Record
import org.jooq.SQL
import org.jooq.Schema
import org.jooq.Select
import org.jooq.Stringly
import org.jooq.Table
import org.jooq.TableField
import org.jooq.TableOptions
import org.jooq.impl.DSL
import org.jooq.impl.SQLDataType
import org.jooq.impl.TableImpl


/**
 * This class is generated by jOOQ.
 */
@Suppress("warnings")
open class PgBlockingProcesses(
    alias: Name,
    path: Table<out Record>?,
    childPath: ForeignKey<out Record, PgBlockingProcessesRecord>?,
    parentPath: InverseForeignKey<out Record, PgBlockingProcessesRecord>?,
    aliased: Table<PgBlockingProcessesRecord>?,
    parameters: Array<Field<*>?>?,
    where: Condition?
): TableImpl<PgBlockingProcessesRecord>(
    alias,
    Public.PUBLIC,
    path,
    childPath,
    parentPath,
    aliased,
    parameters,
    DSL.comment(""),
    TableOptions.view("""
    CREATE VIEW "pg_blocking_processes" AS  SELECT kl.pid AS blocking_pid,
      ka.usename AS blocking_user,
      ka.query AS blocking_query,
      bl.pid AS blocked_pid,
      a.usename AS blocked_user,
      a.query AS blocked_query,
      to_char(age(now(), a.query_start), 'HH24h:MIm:SSs'::text) AS age
     FROM (((pg_locks bl
       JOIN pg_stat_activity a ON ((bl.pid = a.pid)))
       JOIN pg_locks kl ON (((bl.locktype = kl.locktype) AND (NOT (bl.database IS DISTINCT FROM kl.database)) AND (NOT (bl.relation IS DISTINCT FROM kl.relation)) AND (NOT (bl.page IS DISTINCT FROM kl.page)) AND (NOT (bl.tuple IS DISTINCT FROM kl.tuple)) AND (NOT (bl.virtualxid IS DISTINCT FROM kl.virtualxid)) AND (NOT (bl.transactionid IS DISTINCT FROM kl.transactionid)) AND (NOT (bl.classid IS DISTINCT FROM kl.classid)) AND (NOT (bl.objid IS DISTINCT FROM kl.objid)) AND (NOT (bl.objsubid IS DISTINCT FROM kl.objsubid)) AND (bl.pid <> kl.pid))))
       JOIN pg_stat_activity ka ON ((kl.pid = ka.pid)))
    WHERE (kl.granted AND (NOT bl.granted))
    ORDER BY a.query_start;
    """),
    where,
) {
    companion object {

        /**
         * The reference instance of <code>public.pg_blocking_processes</code>
         */
        val PG_BLOCKING_PROCESSES: PgBlockingProcesses = PgBlockingProcesses()
    }

    /**
     * The class holding records for this type
     */
    override fun getRecordType(): Class<PgBlockingProcessesRecord> = PgBlockingProcessesRecord::class.java

    /**
     * The column <code>public.pg_blocking_processes.blocking_pid</code>.
     */
    val BLOCKING_PID: TableField<PgBlockingProcessesRecord, Int?> = createField(DSL.name("blocking_pid"), SQLDataType.INTEGER, this, "")

    /**
     * The column <code>public.pg_blocking_processes.blocking_user</code>.
     */
    val BLOCKING_USER: TableField<PgBlockingProcessesRecord, String?> = createField(DSL.name("blocking_user"), SQLDataType.VARCHAR, this, "")

    /**
     * The column <code>public.pg_blocking_processes.blocking_query</code>.
     */
    val BLOCKING_QUERY: TableField<PgBlockingProcessesRecord, String?> = createField(DSL.name("blocking_query"), SQLDataType.CLOB, this, "")

    /**
     * The column <code>public.pg_blocking_processes.blocked_pid</code>.
     */
    val BLOCKED_PID: TableField<PgBlockingProcessesRecord, Int?> = createField(DSL.name("blocked_pid"), SQLDataType.INTEGER, this, "")

    /**
     * The column <code>public.pg_blocking_processes.blocked_user</code>.
     */
    val BLOCKED_USER: TableField<PgBlockingProcessesRecord, String?> = createField(DSL.name("blocked_user"), SQLDataType.VARCHAR, this, "")

    /**
     * The column <code>public.pg_blocking_processes.blocked_query</code>.
     */
    val BLOCKED_QUERY: TableField<PgBlockingProcessesRecord, String?> = createField(DSL.name("blocked_query"), SQLDataType.CLOB, this, "")

    /**
     * The column <code>public.pg_blocking_processes.age</code>.
     */
    val AGE: TableField<PgBlockingProcessesRecord, String?> = createField(DSL.name("age"), SQLDataType.CLOB, this, "")

    private constructor(alias: Name, aliased: Table<PgBlockingProcessesRecord>?): this(alias, null, null, null, aliased, null, null)
    private constructor(alias: Name, aliased: Table<PgBlockingProcessesRecord>?, parameters: Array<Field<*>?>?): this(alias, null, null, null, aliased, parameters, null)
    private constructor(alias: Name, aliased: Table<PgBlockingProcessesRecord>?, where: Condition?): this(alias, null, null, null, aliased, null, where)

    /**
     * Create an aliased <code>public.pg_blocking_processes</code> table
     * reference
     */
    constructor(alias: String): this(DSL.name(alias))

    /**
     * Create an aliased <code>public.pg_blocking_processes</code> table
     * reference
     */
    constructor(alias: Name): this(alias, null)

    /**
     * Create a <code>public.pg_blocking_processes</code> table reference
     */
    constructor(): this(DSL.name("pg_blocking_processes"), null)
    override fun getSchema(): Schema? = if (aliased()) null else Public.PUBLIC
    override fun `as`(alias: String): PgBlockingProcesses = PgBlockingProcesses(DSL.name(alias), this)
    override fun `as`(alias: Name): PgBlockingProcesses = PgBlockingProcesses(alias, this)
    override fun `as`(alias: Table<*>): PgBlockingProcesses = PgBlockingProcesses(alias.qualifiedName, this)

    /**
     * Rename this table
     */
    override fun rename(name: String): PgBlockingProcesses = PgBlockingProcesses(DSL.name(name), null)

    /**
     * Rename this table
     */
    override fun rename(name: Name): PgBlockingProcesses = PgBlockingProcesses(name, null)

    /**
     * Rename this table
     */
    override fun rename(name: Table<*>): PgBlockingProcesses = PgBlockingProcesses(name.qualifiedName, null)

    /**
     * Create an inline derived table from this table
     */
    override fun where(condition: Condition?): PgBlockingProcesses = PgBlockingProcesses(qualifiedName, if (aliased()) this else null, condition)

    /**
     * Create an inline derived table from this table
     */
    override fun where(conditions: Collection<Condition>): PgBlockingProcesses = where(DSL.and(conditions))

    /**
     * Create an inline derived table from this table
     */
    override fun where(vararg conditions: Condition?): PgBlockingProcesses = where(DSL.and(*conditions))

    /**
     * Create an inline derived table from this table
     */
    override fun where(condition: Field<Boolean?>?): PgBlockingProcesses = where(DSL.condition(condition))

    /**
     * Create an inline derived table from this table
     */
    @PlainSQL override fun where(condition: SQL): PgBlockingProcesses = where(DSL.condition(condition))

    /**
     * Create an inline derived table from this table
     */
    @PlainSQL override fun where(@Stringly.SQL condition: String): PgBlockingProcesses = where(DSL.condition(condition))

    /**
     * Create an inline derived table from this table
     */
    @PlainSQL override fun where(@Stringly.SQL condition: String, vararg binds: Any?): PgBlockingProcesses = where(DSL.condition(condition, *binds))

    /**
     * Create an inline derived table from this table
     */
    @PlainSQL override fun where(@Stringly.SQL condition: String, vararg parts: QueryPart): PgBlockingProcesses = where(DSL.condition(condition, *parts))

    /**
     * Create an inline derived table from this table
     */
    override fun whereExists(select: Select<*>): PgBlockingProcesses = where(DSL.exists(select))

    /**
     * Create an inline derived table from this table
     */
    override fun whereNotExists(select: Select<*>): PgBlockingProcesses = where(DSL.notExists(select))
}
